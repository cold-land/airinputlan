AirInputLan æ›´æ–°æ—¥å¿— / Changelog
================================

æœ¬æ–‡æ¡£è®°å½•äº† AirInputLan æ‰€æœ‰ç‰ˆæœ¬çš„æ›´æ–°å†å²ã€‚

This document records the update history of all AirInputLan versions.


v1.1.1 (2026-01-24)
-------------------

ç”¨æˆ·ä½“éªŒæ”¹è¿› / User Experience Improvements:
  * æ— éœ€äº’è”ç½‘è¿æ¥ï¼ˆäºŒç»´ç æœ¬åœ°ç”Ÿæˆï¼Œç§»é™¤å¤–éƒ¨ API ä¾èµ–ï¼‰
    - ä½¿ç”¨ QRCode.js åº“åœ¨æµè§ˆå™¨ç«¯ç”ŸæˆäºŒç»´ç 
    - ä¸å†ä¾èµ– api.qrserver.com å¤–éƒ¨æœåŠ¡
    - ç¦»çº¿ç¯å¢ƒä¸‹ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨
  * No internet connection needed (QR code generated locally)
    - Use QRCode.js library to generate QR code in browser
    - No longer depends on api.qrserver.com external service
    - Works properly in offline environments

  * å¿«é€Ÿé€€å‡ºä¼˜åŒ–ï¼ˆç¨‹åºé€€å‡ºæ—¶é—´ä» 1-2 ç§’ä¼˜åŒ–åˆ°çº¦ 250msï¼‰
    - ä¼˜åŒ– HTTP æœåŠ¡ä¼˜é›…å…³é—­é€»è¾‘
    - æ·»åŠ  --debug å‚æ•°ç”¨äºè°ƒè¯•
    - é€€å‡ºæ—¶æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—ä¿¡æ¯
  * Fast exit optimization (Exit time reduced from 1-2s to ~250ms)
    - Optimize HTTP service graceful shutdown logic
    - Add --debug parameter for debugging
    - Show detailed log information on exit

  * æ—¥å¿—ç³»ç»Ÿä¼˜åŒ–ï¼ˆæ‰€æœ‰æ—¥å¿—æ”¹ä¸ºä¸­æ–‡ï¼Œæ›´æ˜“ç†è§£ï¼‰
    - ç»Ÿä¸€æ—¥å¿—æ ¼å¼ï¼š[ç±»å‹][æ¨¡å—][æ“ä½œ] æ¶ˆæ¯
    - ä¸­æ–‡æ—¥å¿—ï¼šå¯åŠ¨ã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯
    - æ—¥å¿—ç±»å‹ï¼šå¯åŠ¨ã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯
  * Logging system optimization (All logs changed to Chinese for better readability)
    - Unified log format: [Type][Module][Operation] Message
    - Chinese logs: å¯åŠ¨ã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯
    - Log types: å¯åŠ¨ã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯

ä¿®å¤é—®é¢˜ / Bug Fixes:
  * ä¿®å¤ç«¯å£ç»‘å®šç«æ€æ¡ä»¶
    - åœ¨ Start() æ–¹æ³•ä¸­ç›´æ¥å°è¯•ç»‘å®šç«¯å£ 5000-5099
    - æ¶ˆé™¤ç«¯å£æ£€æŸ¥å’Œç»‘å®šä¹‹é—´çš„æ—¶é—´çª—å£
    - é¿å…å…¶ä»–è¿›ç¨‹å ç”¨ç«¯å£
  * Fixed port binding race condition
    - Try binding ports 5000-5099 directly in Start() method
    - Eliminate time window between port check and binding
    - Avoid other processes seizing the port

  * ä¿®å¤å‰ç«¯é‡è¿é€»è¾‘å¯èƒ½ç´¯ç§¯å®šæ—¶å™¨çš„é—®é¢˜
    - åœ¨åˆ›å»ºæ–°çš„é‡è¿å®šæ—¶å™¨å‰æ¸…é™¤æ—§çš„å®šæ—¶å™¨
    - é¿å…å¤šä¸ªå®šæ—¶å™¨åŒæ—¶è¿è¡Œ
    - é˜²æ­¢å†…å­˜æ³„æ¼
  * Fixed frontend reconnection logic accumulating timers
    - Clear old reconnection timer before creating new one
    - Avoid multiple timers running simultaneously
    - Prevent memory leak

  * ä¿®å¤ SSE client panic
    - æ·»åŠ  isClosed æ ‡å¿—æ£€æŸ¥
    - é¿å…å‘å·²å…³é—­çš„è¿æ¥å‘é€æ¶ˆæ¯
  * Fixed SSE client panic
    - Add isClosed flag check
    - Avoid sending messages to closed connections

  * ä¿®å¤è¾“å…¥é•¿åº¦é™åˆ¶ï¼ˆæŒ‰å­—ç¬¦æ•°è®¡ç®—ï¼‰
    - å°†è¾“å…¥é•¿åº¦é™åˆ¶ä» 500 å­—ç¬¦æ”¹ä¸º 1000 å­—ç¬¦
    - ç¡®ä¿èƒ½å®¹çº³çº¦ 500 ä¸ªæ±‰å­—
  * Fixed input length limit (calculated by character count)
    - Change input length limit from 500 to 1000 characters
    - Ensure it can accommodate about 500 Chinese characters

  * ä¿®å¤ PC ç«¯ XSS å®‰å…¨æ¼æ´
    - ä½¿ç”¨ textContent æ›¿ä»£ innerHTML
    - é˜²æ­¢æ¶æ„è„šæœ¬æ³¨å…¥
  * Fixed PC end XSS security vulnerability
    - Use textContent instead of innerHTML
    - Prevent malicious script injection

  * ä¿®å¤ Windows å•å®ä¾‹é”æ— æ•ˆé—®é¢˜
    - æ”¹è¿› Windows é”å®ç°
    - è‡ªåŠ¨æ¸…ç†è¿‡æœŸé”æ–‡ä»¶
  * Fixed Windows single instance lock invalid issue
    - Improve Windows lock implementation
    - Auto-cleanup expired lock files


v1.1 (2026-01-24)
-----------------

æ–°å¢åŠŸèƒ½ / New Features:
  * åŒæ¨¡å¼åˆ†æ®µç³»ç»Ÿï¼ˆå•æ¬¡è¾“å…¥/è¿ç»­è¾“å…¥ï¼‰
    - å•æ¬¡è¾“å…¥æ¨¡å¼ï¼šæ‰‹æœºç«¯æ£€æµ‹ 2 ç§’æ— è¾“å…¥åè‡ªåŠ¨åˆ†æ®µ
    - è¿ç»­è¾“å…¥æ¨¡å¼ï¼šæœåŠ¡ç«¯æ£€æµ‹ 2 ç§’æ— è¾“å…¥åè‡ªåŠ¨åˆ†æ®µ
    - æ¨¡å¼åˆ‡æ¢æ—¶è‡ªåŠ¨æ¸…ç©ºè¾“å…¥å†…å®¹
    - æ¨¡å¼çŠ¶æ€åŒæ­¥æœºåˆ¶ï¼Œç¡®ä¿æ‰‹æœºå’ŒæœåŠ¡ç«¯ä¸€è‡´
  * Dual-mode segmentation system (Single Input/Continuous Input)
    - Single Input Mode: Mobile detects 2 seconds of no input and auto-segments
    - Continuous Input Mode: Server detects 2 seconds of no input and auto-segments
    - Auto-clear input content when switching modes
    - Mode state synchronization mechanism ensures mobile and server consistency

  * æ‰‹æœºç«¯ä¸»é¢˜åˆ‡æ¢
    - æ”¯æŒäº®è‰²å’Œæš—è‰²ä¸¤ç§ä¸»é¢˜
    - ç‚¹å‡»å³ä¸Šè§’ ğŸŒ™/â˜€ï¸ æŒ‰é’®åˆ‡æ¢
    - è‡ªåŠ¨ä¿å­˜ä¸»é¢˜åå¥½åˆ°æœ¬åœ°å­˜å‚¨
    - å¹³æ»‘çš„ä¸»é¢˜åˆ‡æ¢åŠ¨ç”»ï¼ˆ0.3s è¿‡æ¸¡ï¼‰
    - é»˜è®¤äº®è‰²ä¸»é¢˜
  * Mobile theme switching
    - Supports light and dark themes
    - Click ğŸŒ™/â˜€ï¸ button in top-right corner to switch
    - Auto-saves theme preference to local storage
    - Smooth theme transition animation (0.3s transition)
    - Default light theme

  * æ‰‹æœºç«¯ç•Œé¢ä¼˜åŒ–
    - åˆ†æ®µæ¨¡å¼åˆ‡æ¢æŒ‰é’®ä¼˜åŒ–ï¼ˆç«–å‘æ–‡å­—æ˜¾ç¤ºï¼‰
    - è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆåœ†ç‚¹ + æ–‡å­—ï¼‰
    - ä¸»é¢˜åˆ‡æ¢æŒ‰é’®é›†æˆåˆ°æ ‡é¢˜æ 
  * Mobile interface optimization
    - Segmentation mode toggle button optimization (vertical text display)
    - Connection status indicator (dot + text)
    - Theme toggle button integrated into header

ä¿®å¤é—®é¢˜ / Bug Fixes:
  * ä¿®å¤ PC ç«¯åˆ·æ–°é¡µé¢åäºŒç»´ç ä¸€ç›´æ˜¾ç¤ºçš„é—®é¢˜
  * ä¿®å¤æ¨¡å¼åˆ‡æ¢æ—¶åŒé‡åˆ†æ®µçš„é—®é¢˜
  * ä¿®å¤æ‰‹æœºé‡è¿åæ¨¡å¼ä¸ä¸€è‡´çš„é—®é¢˜
  * ä¼˜åŒ–æŒ‰é’®çŠ¶æ€æ›´æ–°æ—¶æœºï¼ˆç­‰å¾…æœåŠ¡ç«¯ç¡®è®¤ï¼‰
  * Fixed issue where QR code remains visible after PC page refresh
  * Fixed double segmentation when switching modes
  * Fixed mode inconsistency after mobile reconnection
  * Optimized button state update timing (wait for server confirmation)

ä»£ç ä¼˜åŒ– / Code Optimization:
  * ä¼˜åŒ–æœåŠ¡ç«¯æ—¥å¿—ï¼Œä½¿å…¶æ›´æ¸…æ™°æ˜ç¡®
  * ä¼˜åŒ–æ‰‹æœºç«¯ç•Œé¢å¸ƒå±€ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
  * Optimized server logs for better clarity
  * Optimized mobile interface layout for better user experience


v1.0.34 (2026-01-23)
-------------------

æ–°å¢åŠŸèƒ½ / New Features:
  * ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ï¼ˆæ˜äº®/æš—è‰²ï¼‰
  * é‡å¤å­—é«˜äº®åŠŸèƒ½
  * å¢å¼ºå†…å®¹è¿‡æ»¤ï¼ˆè¿‡æ»¤å•ç‹¬æ ‡ç‚¹ç¬¦å·å’Œç©ºæ ¼ï¼‰
  * Theme switching (Light/Dark)
  * Duplicate character highlighting
  * Enhanced content filtering (filter standalone punctuation and spaces)

ä¿®å¤é—®é¢˜ / Bug Fixes:
  * ä¿®å¤ UTF-8 å­—ç¬¦è®¡æ•°é—®é¢˜
  * ä¿®å¤ PC ç«¯åˆ·æ–°é¡µé¢åäºŒç»´ç ä¸€ç›´æ˜¾ç¤ºçš„é—®é¢˜
  * Fixed UTF-8 character counting issue
  * Fixed issue where QR code remains visible after PC page refresh


v1.0.33
--------

é¦–æ¬¡å…¬å¼€ç‰ˆæœ¬
Initial public release
åŸºç¡€åŠŸèƒ½å®Œæ•´
Basic features complete


ç‰ˆæœ¬è¯´æ˜ / Version Notes
=======================

ç‰ˆæœ¬å·è§„åˆ™ / Version Numbering:
  é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemantic Versioningï¼‰ï¼š
  - ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
  - æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
  - ä¿®è®¢å·ï¼ˆPatchï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

  Uses Semantic Versioning:
  - Major: Incompatible API changes
  - Minor: Backwards-compatible functionality additions
  - Patch: Backwards-compatible bug fixes

å‘å¸ƒå‘¨æœŸ / Release Cycle:
  - ä¸»ç‰ˆæœ¬ï¼ˆMajorï¼‰ï¼šä¸å®šæœŸï¼Œé‡å¤§åŠŸèƒ½æ›´æ–°
  - æ¬¡ç‰ˆæœ¬ï¼ˆMinorï¼‰ï¼šä¸å®šæœŸï¼Œæ–°åŠŸèƒ½æ·»åŠ 
  - ä¿®è®¢ç‰ˆæœ¬ï¼ˆPatchï¼‰ï¼šä¸å®šæœŸï¼ŒBug ä¿®å¤
  - Major: Irregular, major feature updates
  - Minor: Irregular, new feature additions
  - Patch: Irregular, bug fixes

æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ / View Latest Version:
  æœ€æ–°çš„ç‰ˆæœ¬å‘å¸ƒè¯´æ˜è¯·æŸ¥çœ‹ RELEASE_NOTES.md
  For the latest release notes, please see RELEASE_NOTES.md